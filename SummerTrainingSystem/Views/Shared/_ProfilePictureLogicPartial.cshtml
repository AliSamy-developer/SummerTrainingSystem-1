@using Microsoft.AspNetCore.Identity
@using SummerTrainingSystemCore.Enums

@inject UserManager<IdentityUser> userManager
@{
    if (User.IsInRole(Roles.Student.ToString()))
    {
        var profilePic = "~/uploads/" + (((Student)userManager.GetUserAsync(User).Result).ProfilePictureUrl ?? "avatar.svg");
        <img class="profile-picture" 
        src="@profilePic"
        alt="profile" asp-append-version="true"/>
    }
    else if (User.IsInRole(Roles.Supervisor.ToString()))
    {
        var profilePic = "~/uploads/" + (((Supervisor)userManager.GetUserAsync(User).Result).ProfilePictureUrl ?? "avatar.svg");
        <img class="profile-picture" 
        src="@profilePic"
        alt="profile" asp-append-version="true"/>
    }
    else if (User.IsInRole(Roles.Company.ToString()))
    {
        var profilePic = "~/uploads/" + (((HrCompany)userManager.GetUserAsync(User).Result).ProfilePictureUrl ?? "avatar.svg");
        <img class="profile-picture" 
        src="@profilePic"
        alt="profile" asp-append-version="true"/>
    }
    else
    {
        <img class="profile-picture" src="~/uploads/avatar.svg" alt="profile" asp-append-version="true"/>
    }
}